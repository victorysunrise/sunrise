<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>SAS SVG</title>

	<script src="./JS/jquery/jquery.js"></script>


    <script src="./JS/d3v4/build/d3.min.js"></script>
    <script src="./JS/techan/dist/techan.js"></script>
    <script src="./JS/WebGL/cuon-utils.js"></script>
    <script src="./JS/WebGL/cuon-matrix.js"></script>
    <script src="./JS/three/three.min.js"></script>
   
    <link rel="stylesheet" href="css/simpleexample.css">
    <link rel="stylesheet" href="css/KIM_base.css">
    <script  src="./JS/KIMLIB/KIMLIB_KIM_Tools.js"></script>
    <script src="./JS/KIMLIB/webgl_KIMLIB.js"></script>
    <script  src="./JS/KIMLIB/KIMLIB_Stock.js"></script>
    <script  src="./JS/KIMLIB/KIMGL_Linechart.js"></script>

</head>



<body>
	<div class="KIM_header" id="myHeader">
	    <button type="button" onclick="ChangeSize_enlarge()"> Change Size enlarge</button>
	    <button type="button" onclick="ChangeSize_small()"> Change Size small</button>
	    <button type="button" onclick="Update()"> Update </button>		
		
	</div>

	
	<script>
        let myHeader = document.getElementById("myHeader");
        let nBrushPad = new BrushPad(myHeader,1000,40);
        let shders = {
            DK:     new Shaders(),
            M5:     new Shaders(),
            SA:     new Shaders(),
            MP:     new Shaders(),
        }  


		var stocks = [];
		stocks.push(new Stock("0027142"));	stocks[stocks.length-1].load_All();
		stocks.push(new Stock("0023002"));	stocks[stocks.length-1].load_All();
		stocks.push(new Stock("0029192"));	stocks[stocks.length-1].load_All();
		stocks.push(new Stock("0026682"));	stocks[stocks.length-1].load_All();
		stocks.push(new Stock("0024872"));	stocks[stocks.length-1].load_All();
		stocks.push(new Stock("0024392"));	stocks[stocks.length-1].load_All();
		stocks.push(new Stock("0021772"));	stocks[stocks.length-1].load_All();



        var OCHLCHART_width = 1000 ,  OCHLCHART_height = 250;
        var stockPads = [];
		for(var i=0;i<7;i++){
			stockPads.push(
	        	new KIMLIB_DK_M5_MP_SA(
	        		stocks[i],
	        		document.body,nBrushPad,
	        		10,
	        		150 + i*(OCHLCHART_height +5),
	        		OCHLCHART_width,
	        		OCHLCHART_height,
	        		shders
	        	)
        	);
		}

	    function ChangeSize_enlarge(){
	        var OCHLCHART_width = 1200,  OCHLCHART_height = 300;
		    for(var i=0;i<stockPads.length;i++){
		    	stockPads[i].resize(
		    		10,									//x
		    		150 + i*(OCHLCHART_height +5),		//y
		    		OCHLCHART_width,					//width
		    		OCHLCHART_height					//height
		    	);
			}
	    }
	    function ChangeSize_small(){
	        var OCHLCHART_width = 500,  OCHLCHART_height = 150;
		    for(var i=0;i<stockPads.length;i++){
		    	stockPads[i].resize(
		    		10,									//x
		    		150 + i*(OCHLCHART_height +5),		//y
		    		OCHLCHART_width,					//width
		    		OCHLCHART_height					//height
		    	);
			}
	    }
        function Update(){
        	var tt = new Date();
		    for(var i=0; i<stockPads.length; i++){
            	stockPads[i].update_TDY(nTDY);
			}
			console.log(new Date()-tt);
        }

        let nTDY = new TDY_DK();nTDY.update();

	</script>


</body>
</html>